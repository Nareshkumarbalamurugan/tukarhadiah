rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Allow read access to all documents for the main coupon checking functionality
    match /{document=**} {
      allow read: if true;
    }
    
    // Prizes collection - allow full access for admin operations
    match /prizes/{prizeId} {
      allow read, write, create, update, delete: if true;
    }
    
    // Coupons collection - allow full access for admin operations and coupon checking
    match /coupons/{couponId} {
      allow read, write, create, update, delete: if true;
    }
    
    // Winners collection - allow full access for tracking redemptions
    match /winners/{winnerId} {
      allow read, write, create, update, delete: if true;
    }
    
    // Settings collection - allow full access for admin configuration
    match /settings/{settingId} {
      allow read, write, create, update, delete: if true;
    }
    
    // Store info collection - allow full access for store management
    match /storeInfo/{storeId} {
      allow read, write, create, update, delete: if true;
    }
    
    // Promo settings collection - allow full access for promotion management
    match /promoSettings/{promoId} {
      allow read, write, create, update, delete: if true;
    }
  }
}
